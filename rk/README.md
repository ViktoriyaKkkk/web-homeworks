# РК web вопрос № 4
Оператор JOIN, формирует результирующую таблицу по заданным условиям, из одной или нескольких уже существующих таблиц SQL. В зависимости от необходимого алгоритма формирования таблицы, к оператору можно подставлять ключевые слова: INNER, CROSS, LEFT, RIGHT.

Рассмотрим подробнее комбинации с каждым ключевым словом на базе MySQL:

* **INNER JOIN (или просто JOIN)** — каждая строка из первой (левой) таблицы, сопоставляется с каждой строкой из второй (правой) таблицы, после чего, происходит проверка условия. В MySQL условие не обязательно, поэтому INNER JOIN стал аналогом CROSS JOIN. Если условия нет, или оно истинно, то строки попадают в результирующую таблицу.

![joins-in-mysql-1](https://user-images.githubusercontent.com/62558636/123510546-e7ec9200-d684-11eb-916c-feb51eca5b13.jpg)

| id            |Имя            | Отдел |
| ------------- |:-------------:| -----:|
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
```
SELECT
  -- Перечисляем столбцы, которые хотим вывести
  Сотрудники.id,
  Сотрудники.Имя,
  Отделы.Наименование AS Отдел -- выводим наименование отдела и переименовываем столбец через as
FROM
  -- таблицы для соединения перечисляем в предложении from 
  Сотрудники
  -- обратите внимание, что мы не указали вид соединения, поэтому выполнится внутренний (inner) джойн
  JOIN Отделы
    -- условия соединения прописываются после ON
    -- условий может быть несколько, записанных через and, or и т.п.
    ON Сотрудники.Отдел = Отделы.id
```

* **LEFT JOIN** — здесь важен порядок следования таблиц. Сначала происходит формирование таблицы соединением INNER JOIN. Затем, в результат добавляются записи левой таблицы, не вошедшие в результат после INNER JOIN. Для них, соответствующие записи из правой таблицы заполняются значениями NULL.

![joins-in-mysql-12](https://user-images.githubusercontent.com/62558636/123510585-0e123200-d685-11eb-905d-295ea029a98f.jpg)

```
SELECT
  Сотрудники.id,
  Сотрудники.Имя,
  Отделы.Наименование AS Отдел
FROM
  Сотрудники
  LEFT JOIN Отделы -- добавляем только left
    ON Сотрудники.Отдел = Отделы.id
```

* **RIGHT JOIN** — здесь так же важен порядок следования таблиц. Аналогично LEFT JOIN, но во главе вторая таблица. Сначала происходит формирование таблицы соединением INNER JOIN. Затем, в результат добавляются записи правой таблицы, не вошедшие в результат после INNER JOIN. Для них, соответствующие записи из левой таблицы заполняются значениями NULL.

![joins-in-mysql-13](https://user-images.githubusercontent.com/62558636/123510623-4a459280-d685-11eb-8630-47b98e9daf8b.jpg)

```
SELECT
  Сотрудники.id,
  Сотрудники.Имя,
  Отделы.Наименование AS Отдел
FROM
  Отделы
  RIGHT JOIN Сотрудники
    ON Сотрудники.Отдел = Отделы.id
```

* **CROSS JOIN** — каждая строка левой таблицы сопоставляется с каждой строкой правой таблицы. В результате получается таблица со всеми возможными сочетаниями строк обеих таблиц (декартово произведение). 

![joins-in-mysql-14](https://user-images.githubusercontent.com/62558636/123510672-7bbe5e00-d685-11eb-99b0-4df0c5f665a6.jpg)

***

Список используемых источников:
* [JOIN в MySQL](https://www.riwkus.pro/notes/web/back-end/mysql-sql/inner-join-in-mysql,-left,-right,-full,-cross-what-it-is-and-how-to-use/)
* [Соединение таблиц – операция JOIN и ее виды](https://office-menu.ru/uroki-sql/92-sql-join)
* [Шпаргалка по синтаксису markdown](http://ilfire.ru/kompyutery/shpargalka-po-sintaksisu-markdown-markdaun-so-vsemi-samymi-populyarnymi-tegami/#link6)
